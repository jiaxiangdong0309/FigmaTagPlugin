# Figma 插件 - 节点信息管理器

这是一个功能强大的 Figma 插件，用于管理和查看设计元素的详细信息，以及添加和管理自定义标签。

## 主要功能

### 1. 节点信息查看
- **获取选中节点**: 显示当前选中元素的基本信息，包括尺寸、位置、填充、描边等属性
- **获取所有节点**: 递归获取选中元素及其所有子节点的完整信息
- **仅获取可见节点**: 只显示可见的节点信息，会自动过滤：
  - 不可见的节点（visible = false）
  - 不可见的填充（fills.visible = false）
  - 不可见的描边（strokes.visible = false）
  - 描边宽度为 0 或未定义的描边

### 2. 标签管理
- **添加标签**: 为选中元素添加两种类型的标签
  - 样式标签（common_css_style）
  - 组件标签（common_component_style）
- **清除标签**: 一键清除选中元素的所有标签

### 3. 信息复制
- **复制功能**: 支持一键复制节点信息，方便分享和记录

## 界面功能

插件界面包含以下主要部分：
1. 标签管理区域
   - 标签类型选择（样式/组件）
   - 标签值输入
   - 添加标签按钮
   - 清除标签按钮
2. 节点信息显示区域
   - 获取选中节点按钮
   - 获取所有节点按钮（包含隐藏节点）
   - 获取所有节点按钮（仅可见）
   - 信息显示面板
   - 复制信息按钮

## 节点信息格式

获取的节点信息包含以下字段：
```json
{
  "id": "节点ID",
  "name": "节点名称",
  "type": "节点类型",
  "width": "宽度",
  "height": "高度",
  "x": "X坐标",
  "y": "Y坐标",
  "rotation": "旋转角度",
  "visible": "可见性",
  "fills": "填充属性",
  "strokes": "描边属性",
  "strokeWeight": "描边宽度",
  "text": "文本内容（如果是文本节点）",
  "cornerRadius": "圆角半径",
  "common_css_style": "样式标签",
  "common_component_style": "组件标签",
  "children": "子节点信息（如果有）"
}
```

## 使用说明

1. 在 Figma 中选择需要操作的元素
2. 使用相应按钮获取节点信息：
   - 使用"获取选中节点"查看基本信息
   - 使用"获取所有节点"查看完整的节点树
   - 使用"获取所有节点（仅可见）"查看过滤后的节点树
3. 添加标签：
   - 选择标签类型（样式/组件）
   - 输入标签值
   - 点击"添加标签"
4. 清除标签：
   - 选择需要清除标签的元素
   - 点击"清除标签"按钮
5. 复制信息：
   - 获取节点信息后
   - 点击"复制节点信息"按钮

## 注意事项

- 获取节点信息时必须先选中至少一个元素
- "仅可见"模式会过滤掉所有不可见的元素和属性
- 标签值会立即应用到选中的所有元素
- 清除标签操作会同时清除样式和组件两种标签